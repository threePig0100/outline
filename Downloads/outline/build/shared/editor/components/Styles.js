"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.pulse = exports.default = void 0;
var _polished = require("polished");
var _styledComponents = _interopRequireWildcard(require("styled-components"));
var _Video = require("./Video");
var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;
/* eslint-disable no-irregular-whitespace */
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }
const pulse = exports.pulse = (0, _styledComponents.keyframes)(_templateObject || (_templateObject = _taggedTemplateLiteral(["\n  0% { box-shadow: 0 0 0 1px rgba(255, 213, 0, 0.75) }\n  50% { box-shadow: 0 0 0 4px rgba(255, 213, 0, 0.75) }\n  100% { box-shadow: 0 0 0 1px rgba(255, 213, 0, 0.75) }\n"])));
const codeMarkCursor = () => (0, _styledComponents.css)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral(["\n  /* Based on https://github.com/curvenote/editor/blob/main/packages/prosemirror-codemark/src/codemark.css */\n  .no-cursor {\n    caret-color: transparent;\n  }\n\n  div:focus .fake-cursor,\n  span:focus .fake-cursor {\n    margin-right: -1px;\n    border-left-width: 1px;\n    border-left-style: solid;\n    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n    position: relative;\n    z-index: 1;\n  }\n"])));
const mathStyle = props => (0, _styledComponents.css)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral(["\n  /* Based on https://github.com/benrbray/prosemirror-math/blob/master/style/math.css */\n\n  .math-node {\n    min-width: 1em;\n    min-height: 1em;\n    font-size: 0.95em;\n    font-family: ", ";\n    cursor: auto;\n  }\n\n  .math-node.empty-math .math-render::before {\n    content: \"Empty math\";\n    color: ", ";\n    font-size: 14px;\n  }\n\n  .math-node .math-render.parse-error::before {\n    content: \"(math error)\";\n    color: ", ";\n    cursor: help;\n  }\n\n  .math-node.ProseMirror-selectednode {\n    outline: none;\n  }\n\n  .math-node .math-src {\n    display: none;\n    color: ", ";\n    tab-size: 4;\n  }\n\n  .math-node.ProseMirror-selectednode .math-src {\n    display: inline;\n  }\n\n  .math-node.ProseMirror-selectednode .math-render {\n    display: none;\n  }\n\n  math-inline {\n    display: inline;\n    white-space: nowrap;\n  }\n\n  math-inline .math-render {\n    display: inline-block;\n    font-size: 0.85em;\n  }\n\n  math-inline .math-src .ProseMirror {\n    display: inline;\n    margin: 0px 3px;\n  }\n\n  math-block {\n    display: block;\n  }\n\n  math-block .math-render {\n    display: block;\n  }\n\n  math-block.ProseMirror-selectednode,\n  math-block.empty-math {\n    border-radius: 4px;\n    border: 1px solid ", ";\n    background: ", ";\n    padding: 0.75em 1em;\n    font-family: ", ";\n    font-size: 90%;\n  }\n\n  math-block.empty-math {\n    text-align: center;\n  }\n\n  math-block .math-src .ProseMirror {\n    width: 100%;\n    display: block;\n  }\n\n  math-block .katex-display {\n    margin: 0;\n  }\n\n  .katex-html *::selection {\n    background-color: none !important;\n  }\n\n  .math-node.math-select .math-render {\n    background-color: #c0c0c0ff;\n  }\n\n  math-inline.math-select .math-render {\n    padding-top: 2px;\n  }\n"])), props.theme.fontFamilyMono, props.theme.placeholder, props.theme.brand.red, props.theme.codeStatement, props.theme.codeBorder, props.theme.codeBackground, props.theme.fontFamilyMono);
const codeBlockStyle = props => (0, _styledComponents.css)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral(["\n  .token.comment,\n  .token.prolog,\n  .token.doctype,\n  .token.cdata {\n    color: ", ";\n  }\n\n  .token.punctuation {\n    color: ", ";\n  }\n\n  .token.namespace {\n    opacity: 0.7;\n  }\n\n  .token.operator,\n  .token.boolean,\n  .token.number {\n    color: ", ";\n  }\n\n  .token.property {\n    color: ", ";\n  }\n\n  .token.tag {\n    color: ", ";\n  }\n\n  .token.string {\n    color: ", ";\n  }\n\n  .token.selector {\n    color: ", ";\n  }\n\n  .token.attr-name {\n    color: ", ";\n  }\n\n  .token.entity,\n  .token.url,\n  .language-css .token.string,\n  .style .token.string {\n    color: ", ";\n  }\n\n  .token.attr-value,\n  .token.keyword,\n  .token.control,\n  .token.directive,\n  .token.unit {\n    color: ", ";\n  }\n\n  .token.function,\n  .token.class-name-definition {\n    color: ", ";\n  }\n\n  .token.class-name {\n    color: ", ";\n  }\n\n  .token.statement,\n  .token.regex,\n  .token.atrule {\n    color: ", ";\n  }\n\n  .token.placeholder,\n  .token.variable {\n    color: ", ";\n  }\n\n  .token.deleted {\n    text-decoration: line-through;\n  }\n\n  .token.inserted {\n    border-bottom: 1px dotted ", ";\n    text-decoration: none;\n  }\n\n  .token.italic {\n    font-style: italic;\n  }\n\n  .token.important,\n  .token.bold {\n    font-weight: bold;\n  }\n\n  .token.important {\n    color: ", ";\n  }\n\n  .token.entity {\n    cursor: help;\n  }\n"])), props.theme.codeComment, props.theme.codePunctuation, props.theme.codeNumber, props.theme.codeProperty, props.theme.codeTag, props.theme.codeString, props.theme.codeSelector, props.theme.codeAttr, props.theme.codeEntity, props.theme.codeKeyword, props.theme.codeFunction, props.theme.codeClassName, props.theme.codeStatement, props.theme.codePlaceholder, props.theme.codeInserted, props.theme.codeImportant);
const findAndReplaceStyle = () => (0, _styledComponents.css)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral(["\n  .find-result {\n    background: rgba(255, 213, 0, 0.25);\n\n    &.current-result {\n      background: rgba(255, 213, 0, 0.75);\n      animation: ", " 150ms 1;\n    }\n  }\n"])), pulse);
const emailStyle = props => (0, _styledComponents.css)(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral(["\n  .attachment {\n    display: block;\n    color: ", " !important;\n    box-shadow: 0 0 0 1px ", ";\n    white-space: nowrap;\n    border-radius: 8px;\n    padding: 6px 8px;\n  }\n"])), props.theme.text, props.theme.divider);
const style = props => {
  var _props$editorStyle$pa, _props$editorStyle, _props$editorStyle$ma, _props$editorStyle2;
  return "\nflex-grow: ".concat(props.grow ? 1 : 0, ";\njustify-content: start;\ncolor: ").concat(props.theme.text, ";\nfont-family: ").concat(props.theme.fontFamily, ";\nfont-weight: ").concat(props.theme.fontWeightRegular, ";\nfont-size: 1em;\nline-height: -0.011;\nwidth: 100%;\n\n.mention {\n  background: ").concat(props.theme.mentionBackground, ";\n  border-radius: 8px;\n  padding-bottom: 2px;\n  padding-top: 1px;\n  padding-left: 4px;\n  padding-right: 4px;\n  font-weight: 500;\n  font-size: 0.9em;\n  cursor: default;\n}\n\n> div {\n  background: transparent;\n}\n\n& * {\n  box-sizing: content-box;\n}\n\n.ProseMirror {\n  position: relative;\n  outline: none;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  padding: ").concat((_props$editorStyle$pa = (_props$editorStyle = props.editorStyle) === null || _props$editorStyle === void 0 ? void 0 : _props$editorStyle.padding) !== null && _props$editorStyle$pa !== void 0 ? _props$editorStyle$pa : "initial", ";\n  margin: ").concat((_props$editorStyle$ma = (_props$editorStyle2 = props.editorStyle) === null || _props$editorStyle2 === void 0 ? void 0 : _props$editorStyle2.margin) !== null && _props$editorStyle$ma !== void 0 ? _props$editorStyle$ma : "initial", ";\n\n  .ProseMirror {\n    padding: 0;\n    margin: 0;\n  }\n\n  & > .ProseMirror-yjs-cursor {\n    display: none;\n  }\n\n  & > * {\n    margin-top: .5em;\n    margin-bottom: .5em;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  & > :first-child,\n  & > button:first-child + * {\n    margin-top: 0;\n  }\n\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin-top: 1em;\n  }\n\n  h1 {\n    margin-top: .75em;\n    margin-bottom: 0.25em;\n  }\n\n  // all of heading sizes are stepped down one from global styles, except h1\n  // which is between h1 and h2\n  h1 { font-size: 28px; }\n  h2 { font-size: 22px; }\n  h3 { font-size: 18px; }\n  h4 { font-size: 16px; }\n  h5 { font-size: 15px; }\n  h6 { font-size: 15px; }\n\n  .ProseMirror-yjs-cursor {\n    position: relative;\n    margin-left: -1px;\n    margin-right: -1px;\n    border-left: 1px solid black;\n    border-right: 1px solid black;\n    height: 1em;\n    word-break: normal;\n\n    &:after {\n      content: \"\";\n      display: block;\n      position: absolute;\n      left: -8px;\n      right: -8px;\n      top: 0;\n      bottom: 0;\n    }\n    > div {\n      opacity: 0;\n      transition: opacity 100ms ease-in-out;\n      position: absolute;\n      top: -1.8em;\n      font-size: 13px;\n      background-color: rgb(250, 129, 0);\n      font-style: normal;\n      line-height: normal;\n      user-select: none;\n      white-space: nowrap;\n      color: white;\n      padding: 2px 6px;\n      font-weight: 500;\n      border-radius: 4px;\n      pointer-events: none;\n      left: -1px;\n    }\n\n    &:hover {\n      > div {\n        opacity: 1;\n      }\n    }\n  }\n}\n\n&.show-cursor-names .ProseMirror-yjs-cursor > div {\n  opacity: 1;\n}\n\npre {\n  white-space: pre-wrap;\n}\n\nli {\n  position: relative;\n}\n\niframe.embed {\n  width: 100%;\n  height: 400px;\n  border: 1px solid ").concat(props.theme.embedBorder, ";\n  border-radius: 6px;\n}\n\n.image,\n.video {\n  line-height: 0;\n  text-align: center;\n  max-width: 100%;\n  clear: both;\n  position: relative;\n  z-index: 1;\n\n  img,\n  video {\n    pointer-events: ").concat(props.readOnly ? "initial" : "none", ";\n    display: inline-block;\n    max-width: 100%;\n  }\n\n  video {\n    pointer-events: initial;\n    ").concat(_Video.videoStyle, "\n  }\n\n  .ProseMirror-selectednode img {\n    pointer-events: initial;\n  }\n}\n\n.image.placeholder,\n.video.placeholder {\n  position: relative;\n  background: ").concat(props.theme.background, ";\n  margin-bottom: calc(28px + 1.2em);\n\n  img,\n  video {\n    opacity: 0.5;\n  }\n\n  video {\n    border-radius: 8px;\n  }\n}\n\n.file.placeholder {\n  display: flex;\n  align-items: center;\n  background: ").concat(props.theme.background, ";\n  box-shadow: 0 0 0 1px ").concat(props.theme.divider, ";\n  white-space: nowrap;\n  border-radius: 8px;\n  padding: 6px 8px;\n  max-width: 840px;\n  cursor: default;\n\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n\n  .title,\n  .subtitle {\n    margin-left: 8px;\n  }\n\n  .title {\n    font-weight: 600;\n    font-size: 14px;\n    color:  ").concat(props.theme.text, ";\n  }\n\n  .subtitle {\n    font-size: 13px;\n    color: ").concat(props.theme.textTertiary, ";\n    line-height: 0;\n  }\n\n  span {\n    font-family: ").concat(props.theme.fontFamilyMono, ";\n  }\n}\n\n.attachment-replacement-uploading {\n  .widget {\n    opacity: 0.5;\n  }\n}\n\n.image-replacement-uploading {\n  img {\n    opacity: 0.5;\n  }\n}\n\n.image-right-50 {\n  float: right;\n  width: 33.3%;\n  margin-left: 2em;\n  margin-bottom: 1em;\n  clear: initial;\n}\n\n.image-left-50 {\n  float: left;\n  width: 33.3%;\n  margin-right: 2em;\n  margin-bottom: 1em;\n  clear: initial;\n}\n\n.image-full-width {\n  width: initial;\n  max-width: 100vw;\n  clear: both;\n  position: initial;\n  ").concat(props.rtl ? "margin-right: var(--offset)" : "margin-left: var(--offset)", ";\n\n  img {\n    max-width: 100vw;\n    max-height: min(450px, 50vh);\n    object-fit: cover;\n    object-position: center;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n.ProseMirror-hideselection {\n  caret-color: transparent;\n}\n\n.ProseMirror-selectednode {\n  outline: 2px solid\n    ").concat(props.readOnly ? "transparent" : props.theme.selected, ";\n}\n\n/* Make sure li selections wrap around markers */\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: \"\";\n  position: absolute;\n  left: ").concat(props.rtl ? "-2px" : "-32px", ";\n  right: ").concat(props.rtl ? "-32px" : "-2px", ";\n  top: -2px;\n  bottom: -2px;\n  border: 2px solid ").concat(props.theme.selected, ";\n  pointer-events: none;\n}\n\nimg.ProseMirror-separator {\n  display: inline;\n  border: none !important;\n  margin: 0 !important;\n}\n\n// Removes forced paragraph spaces below images, this is needed to images\n// being inline nodes that are displayed like blocks\n.component-image + img.ProseMirror-separator,\n.component-image + img.ProseMirror-separator + br.ProseMirror-trailingBreak {\n  display: none;\n}\n\n.ProseMirror[contenteditable=\"false\"] {\n  .caption {\n    pointer-events: none;\n  }\n  .caption:empty {\n    visibility: hidden;\n  }\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-weight: 500;\n  cursor: text;\n\n  &:not(.placeholder):before {\n    display: ").concat(props.readOnly ? "none" : "inline-block", ";\n    font-family: ").concat(props.theme.fontFamilyMono, ";\n    color: ").concat(props.theme.textSecondary, ";\n    font-size: 13px;\n    line-height: 0;\n    margin-").concat(props.rtl ? "right" : "left", ": -24px;\n    transition: opacity 150ms ease-in-out;\n    opacity: 0;\n    width: 24px;\n  }\n\n  &:hover,\n  &:focus-within {\n    .heading-actions {\n      opacity: 1;\n    }\n  }\n}\n\n.heading-content {\n  &:before {\n    content: \"\u200B\";\n    display: inline;\n  }\n}\n\n.heading-name {\n  color: ").concat(props.theme.text, ";\n  pointer-events: none;\n  display: block;\n  position: relative;\n  top: -60px;\n  visibility: hidden;\n\n  &:hover {\n    text-decoration: none;\n  }\n}\n\n.heading-name:first-child,\n.heading-name:first-child + .ProseMirror-yjs-cursor {\n  & + h1,\n  & + h2,\n  & + h3,\n  & + h4 {\n    margin-top: 0;\n  }\n}\n\na:first-child {\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin-top: 0;\n  }\n}\n\nh1:not(.placeholder):before {\n  content: \"H1\";\n}\nh2:not(.placeholder):before {\n  content: \"H2\";\n}\nh3:not(.placeholder):before {\n  content: \"H3\";\n}\nh4:not(.placeholder):before {\n  content: \"H4\";\n}\nh5:not(.placeholder):before {\n  content: \"H5\";\n}\nh6:not(.placeholder):before {\n  content: \"H6\";\n}\n\n.ProseMirror[contenteditable=\"true\"]:focus-within,\n.ProseMirror-focused {\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    &:not(.placeholder):before {\n      opacity: 1;\n    }\n  }\n}\n\n.with-emoji {\n  margin-").concat(props.rtl ? "right" : "left", ": -1em;\n}\n\n.heading-anchor,\n.heading-fold {\n  display: inline-block;\n  color: ").concat(props.theme.text, ";\n  opacity: .75;\n  cursor: var(--pointer);\n  background: none;\n  outline: none;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  text-align: left;\n  font-family: ").concat(props.theme.fontFamilyMono, ";\n  font-size: 14px;\n  line-height: 0;\n  width: 12px;\n  height: 24px;\n\n  &:focus,\n  &:hover {\n    opacity: 1;\n  }\n}\n\n.heading-anchor {\n  box-sizing: border-box;\n}\n\n.heading-actions {\n  opacity: 0;\n  user-select: none;\n  background: ").concat(props.theme.background, ";\n  margin-").concat(props.rtl ? "right" : "left", ": -26px;\n  flex-direction: ").concat(props.rtl ? "row-reverse" : "row", ";\n  display: inline-flex;\n  position: relative;\n  top: -2px;\n  width: 26px;\n  height: 24px;\n\n  &.collapsed {\n    opacity: 1;\n  }\n\n  &.collapsed .heading-anchor {\n    opacity: 0;\n  }\n\n  &.collapsed .heading-fold {\n    opacity: 1;\n  }\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  &:hover {\n    .heading-anchor {\n      opacity: 0.75 !important;\n    }\n    .heading-anchor:hover {\n      opacity: 1 !important;\n    }\n  }\n}\n\n.heading-fold {\n  display: inline-block;\n  transform-origin: center;\n  padding: 0;\n\n  &.collapsed {\n    svg {\n      transform: rotate(").concat(props.rtl ? "90deg" : "-90deg", ");\n      pointer-events: none;\n    }\n    transition-delay: 0.1s;\n    opacity: 1;\n  }\n}\n\n.placeholder:before {\n  display: block;\n  opacity: 0;\n  transition: opacity 150ms ease-in-out;\n  content: ").concat(props.readOnly ? "" : "attr(data-empty-text)", ";\n  pointer-events: none;\n  height: 0;\n  color: ").concat(props.theme.placeholder, ";\n}\n\n/** Show the placeholder if focused or the first visible item nth(2) accounts for block insert trigger */\n.ProseMirror-focused .placeholder:before,\n.placeholder:nth-child(1):before,\n.placeholder:nth-child(2):before {\n  opacity: 1;\n}\n\n.comment-marker {\n  border-bottom: 2px solid ").concat(props.theme.commentMarkBackground, ";\n  transition: background 100ms ease-in-out;\n  border-radius: 2px;\n\n  &:hover {\n    ").concat(props.readOnly ? "cursor: var(--pointer);" : "", "\n    background: ").concat(props.theme.commentMarkBackground, ";\n  }\n}\n\n.notice-block {\n  display: flex;\n  align-items: center;\n  background: ").concat((0, _polished.transparentize)(0.9, props.theme.noticeInfoBackground), ";\n  border-left: 4px solid ").concat(props.theme.noticeInfoBackground, ";\n  color: ").concat(props.theme.noticeInfoText, ";\n  border-radius: 4px;\n  padding: 8px 10px 8px 8px;\n  margin: 8px 0;\n\n  a {\n    color: ").concat(props.theme.noticeInfoText, ";\n  }\n\n  a:not(.heading-name) {\n    text-decoration: underline;\n  }\n\n  p:first-child {\n    margin-top: 0;\n  }\n\n  p:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.notice-block .content {\n  flex-grow: 1;\n  min-width: 0;\n}\n\n.notice-block .icon {\n  width: 24px;\n  height: 24px;\n  align-self: flex-start;\n  margin-").concat(props.rtl ? "left" : "right", ": 4px;\n  color: ").concat(props.theme.noticeInfoBackground, ";\n}\n\n.notice-block.tip {\n  background: ").concat((0, _polished.transparentize)(0.9, props.theme.noticeTipBackground), ";\n  border-left: 4px solid ").concat(props.theme.noticeTipBackground, ";\n  color: ").concat(props.theme.noticeTipText, ";\n\n  .icon {\n    color: ").concat(props.theme.noticeTipBackground, ";\n  }\n\n  a {\n    color: ").concat(props.theme.noticeTipText, ";\n  }\n}\n\n.notice-block.warning {\n  background: ").concat((0, _polished.transparentize)(0.9, props.theme.noticeWarningBackground), ";\n  border-left: 4px solid ").concat(props.theme.noticeWarningBackground, ";\n  color: ").concat(props.theme.noticeWarningText, ";\n\n  .icon {\n    color: ").concat(props.theme.noticeWarningBackground, ";\n  }\n\n  a {\n    color: ").concat(props.theme.noticeWarningText, ";\n  }\n}\n\n.notice-block.success {\n  background: ").concat((0, _polished.transparentize)(0.9, props.theme.noticeSuccessBackground), ";\n  border-left: 4px solid ").concat(props.theme.noticeSuccessBackground, ";\n  color: ").concat(props.theme.noticeSuccessText, ";\n\n  .icon {\n    color: ").concat(props.theme.noticeSuccessBackground, ";\n  }\n\n  a {\n    color: ").concat(props.theme.noticeSuccessText, ";\n  }\n}\n\nblockquote {\n  margin: 0;\n  padding: 8px 10px 8px 1.5em;\n  font-style: italic;\n  overflow: hidden;\n  position: relative;\n\n  &:before {\n    content: \"\";\n    display: inline-block;\n    width: 2px;\n    border-radius: 1px;\n    position: absolute;\n    margin-").concat(props.rtl ? "right" : "left", ": -1.5em;\n    top: 0;\n    bottom: 0;\n    background: ").concat(props.theme.quote, ";\n  }\n}\n\nb,\nstrong {\n  font-weight: 600;\n}\n\n.template-placeholder {\n  color: ").concat(props.theme.placeholder, ";\n  border-bottom: 1px dotted ").concat(props.theme.placeholder, ";\n  border-radius: 2px;\n  cursor: text;\n\n  &:hover {\n    border-bottom: 1px dotted\n      ").concat(props.readOnly ? props.theme.placeholder : props.theme.textSecondary, ";\n  }\n}\n\np {\n  margin: 0;\n  min-height: 1.6em;\n}\n\n.heading-content a,\np a {\n  color: ").concat(props.theme.text, ";\n  text-decoration: underline;\n  text-decoration-color: ").concat((0, _polished.lighten)(0.5, props.theme.text), ";\n  text-decoration-thickness: 1px;\n  text-underline-offset: .15em;\n  font-weight: 500;\n\n  &:hover {\n    text-decoration: underline;\n    text-decoration-color: ").concat(props.theme.text, ";\n    text-decoration-thickness: 1px;\n  }\n}\n\na {\n  color: ").concat(props.theme.link, ";\n  cursor: pointer;\n}\n\n.ProseMirror-focused {\n  a {\n    cursor: text;\n  }\n}\n\na:hover {\n  text-decoration: ").concat(props.readOnly ? "underline" : "none", ";\n}\n\nul,\nol {\n  margin: ").concat(props.rtl ? "0 -26px 0 0.1em" : "0 0.1em 0 -26px", ";\n  padding: ").concat(props.rtl ? "0 48px 0 0" : "0 0 0 48px", ";\n}\n\nol ol {\n  list-style: lower-alpha;\n}\n\nol ol ol {\n  list-style: lower-roman;\n}\n\nul.checkbox_list {\n  padding: 0;\n  margin-left: ").concat(props.rtl ? "0" : "-24px", ";\n  margin-right: ").concat(props.rtl ? "-24px" : "0", ";\n}\n\nul li,\nol li {\n  position: relative;\n  white-space: initial;\n\n  p {\n    white-space: pre-wrap;\n  }\n\n  > div {\n    width: 100%;\n  }\n}\n\nul.checkbox_list > li {\n  display: flex;\n  list-style: none;\n  padding-").concat(props.rtl ? "right" : "left", ": 24px;\n}\n\nul.checkbox_list > li.checked > div > p {\n  color: ").concat(props.theme.textTertiary, ";\n}\n\nul li::before,\nol li::before {\n  background: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iOCIgeT0iNyIgd2lkdGg9IjMiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiM0RTVDNkUiLz4KPHJlY3QgeD0iOCIgeT0iMTEiIHdpZHRoPSIzIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjNEU1QzZFIi8+CjxyZWN0IHg9IjgiIHk9IjE1IiB3aWR0aD0iMyIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzRFNUM2RSIvPgo8cmVjdCB4PSIxMyIgeT0iNyIgd2lkdGg9IjMiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiM0RTVDNkUiLz4KPHJlY3QgeD0iMTMiIHk9IjExIiB3aWR0aD0iMyIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzRFNUM2RSIvPgo8cmVjdCB4PSIxMyIgeT0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjNEU1QzZFIi8+Cjwvc3ZnPgo=\") no-repeat;\n  background-position: 0 2px;\n  content: \"\";\n  display: ").concat(props.readOnly ? "none" : "inline-block", ";\n  cursor: grab;\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  ").concat(props.rtl ? "right" : "left", ": -40px;\n  opacity: 0;\n  transition: opacity 200ms ease-in-out;\n}\n\nul li[draggable=true]::before,\nol li[draggable=true]::before {\n  cursor: grabbing;\n}\n\nul > li.counter-2::before,\nol li.counter-2::before {\n  ").concat(props.rtl ? "right" : "left", ": -50px;\n}\n\nul > li.hovering::before,\nol li.hovering::before {\n  opacity: 0.5;\n}\n\nul li.ProseMirror-selectednode::after,\nol li.ProseMirror-selectednode::after {\n  display: none;\n}\n\nul.checkbox_list > li::before {\n  ").concat(props.rtl ? "right" : "left", ": 0;\n}\n\nul.checkbox_list li .checkbox {\n  display: inline-block;\n  cursor: var(--pointer);\n  pointer-events: ").concat(props.readOnly && !props.readOnlyWriteCheckboxes ? "none" : "initial", ";\n  opacity: ").concat(props.readOnly && !props.readOnlyWriteCheckboxes ? 0.75 : 1, ";\n  margin: ").concat(props.rtl ? "0 0 0 0.5em" : "0 0.5em 0 0", ";\n  width: 14px;\n  height: 14px;\n  position: relative;\n  top: 1px;\n  transition: transform 100ms ease-in-out;\n  opacity: .8;\n\n  background-image: ", "url(\"data:image/svg+xml,%3Csvg width='14' height='14' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M3 0C1.34315 0 0 1.34315 0 3V11C0 12.6569 1.34315 14 3 14H11C12.6569 14 14 12.6569 14 11V3C14 1.34315 12.6569 0 11 0H3ZM3 2C2.44772 2 2 2.44772 2 3V11C2 11.5523 2.44772 12 3 12H11C11.5523 12 12 11.5523 12 11V3C12 2.44772 11.5523 2 11 2H3Z' fill='".concat(props.theme.text.replace("#", "%23"), "' /%3E%3C/svg%3E%0A\");"), "\n\n  &[aria-checked=true] {\n    opacity: 1;\n    background-image: ", "url(\n        \"data:image/svg+xml,%3Csvg width='14' height='14' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M3 0C1.34315 0 0 1.34315 0 3V11C0 12.6569 1.34315 14 3 14H11C12.6569 14 14 12.6569 14 11V3C14 1.34315 12.6569 0 11 0H3ZM4.26825 5.85982L5.95873 7.88839L9.70003 2.9C10.0314 2.45817 10.6582 2.36863 11.1 2.7C11.5419 3.03137 11.6314 3.65817 11.3 4.1L6.80002 10.1C6.41275 10.6164 5.64501 10.636 5.2318 10.1402L2.7318 7.14018C2.37824 6.71591 2.43556 6.08534 2.85984 5.73178C3.28412 5.37821 3.91468 5.43554 4.26825 5.85982Z' fill='".concat(props.theme.accent.replace("#", "%23"), "' /%3E%3C/svg%3E%0A\"\n      )"), ";\n  }\n\n  &:active {\n    transform: scale(0.9);\n  }\n}\n\nli p:first-child {\n  margin: 0;\n  word-break: break-word;\n}\n\nhr {\n  position: relative;\n  height: 1em;\n  border: 0;\n}\n\nhr:before {\n  content: \"\";\n  display: block;\n  position: absolute;\n  border-top: 1px solid ").concat(props.theme.horizontalRule, ";\n  top: 0.5em;\n  left: 0;\n  right: 0;\n}\n\nhr.page-break {\n  page-break-after: always;\n}\n\nhr.page-break:before {\n  border-top: 1px dashed ").concat(props.theme.horizontalRule, ";\n}\n\n.math-inline .math-src .ProseMirror,\ncode {\n  border-radius: 4px;\n  border: 1px solid ").concat(props.theme.codeBorder, ";\n  background: ").concat(props.theme.codeBackground, ";\n  padding: 3px 4px;\n  font-family: ").concat(props.theme.fontFamilyMono, ";\n  font-size: 90%;\n}\n\nmark {\n  border-radius: 1px;\n  color: ").concat(props.theme.textHighlightForeground, ";\n  background: ").concat(props.theme.textHighlight, ";\n\n  a {\n    color: ").concat(props.theme.textHighlightForeground, ";\n  }\n}\n\n.external-link {\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  top: 2px;\n  width: 16px;\n  height: 16px;\n}\n\n.code-block {\n  position: relative;\n}\n\n.code-block[data-language=mermaidjs] {\n  margin: 0.75em 0;\n\n  pre {\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n    margin-bottom: -20px;\n    overflow: hidden;\n  }\n\n  // Hide code without display none so toolbar can still be positioned against it\n  &:not(.code-active) {\n    height: ").concat(props.staticHTML ? "auto" : "0", ";\n    margin: -0.75em 0;\n    overflow: hidden;\n\n    // Allows the margin to collapse correctly by moving div out of the flow\n    position: absolute;\n  }\n}\n\n/* Hide code without display none so toolbar can still be positioned against it */\n.ProseMirror[contenteditable=\"false\"] .code-block[data-language=mermaidjs] {\n  height: ").concat(props.staticHTML ? "auto" : "0", ";\n  margin: -0.5em 0;\n  overflow: hidden;\n}\n\n.code-block.with-line-numbers {\n  pre {\n    padding-left: calc(var(--line-number-gutter-width, 0) * 1em + 1.5em);\n  }\n\n  &:after {\n    content: attr(data-line-numbers);\n    position: absolute;\n    padding-left: 0.5em;\n    left: 1px;\n    top: calc(1px + 0.75em);\n    width: calc(var(--line-number-gutter-width,0) * 1em + .25em);\n    word-break: break-all;\n    white-space: break-spaces;\n    font-family: ").concat(props.theme.fontFamilyMono, ";\n    font-size: 13px;\n    line-height: 1.4em;\n    color: ").concat(props.theme.textTertiary, ";\n    background: ").concat(props.theme.codeBackground, ";\n    text-align: right;\n    font-variant-numeric: tabular-nums;\n    user-select: none;\n  }\n}\n\n.mermaid-diagram-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0.75em 0;\n  min-height: 1.6em;\n  background: ").concat(props.theme.codeBackground, ";\n  border-radius: 6px;\n  border: 1px solid ").concat(props.theme.codeBorder, ";\n  padding: 8px;\n  user-select: none;\n  cursor: default;\n\n  * {\n    font-family: ").concat(props.theme.fontFamily, ";\n  }\n\n  &.empty {\n    font-family: ").concat(props.theme.fontFamilyMono, ";\n    font-size: 14px;\n    color: ").concat(props.theme.placeholder, ";\n  }\n\n  &.parse-error {\n    font-family: ").concat(props.theme.fontFamilyMono, ";\n    font-size: 14px;\n    color: ").concat(props.theme.brand.red, ";\n  }\n}\n\npre {\n  display: block;\n  overflow-x: auto;\n  padding: 0.75em 1em;\n  line-height: 1.4em;\n  position: relative;\n  background: ").concat(props.theme.codeBackground, ";\n  border-radius: 4px;\n  border: 1px solid ").concat(props.theme.codeBorder, ";\n  margin: .5em 0;\n\n  -webkit-font-smoothing: initial;\n  font-family: ").concat(props.theme.fontFamilyMono, ";\n  font-size: 13px;\n  direction: ltr;\n  text-align: left;\n  white-space: pre;\n  word-spacing: normal;\n  word-break: normal;\n  -moz-tab-size: 4;\n  -o-tab-size: 4;\n  tab-size: 4;\n  -webkit-hyphens: none;\n  -moz-hyphens: none;\n  -ms-hyphens: none;\n  hyphens: none;\n  color: ").concat(props.theme.code, ";\n\n  code {\n    font-size: 13px;\n    background: none;\n    padding: 0;\n    border: 0;\n  }\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border-radius: 4px;\n  margin-top: 1em;\n  box-sizing: border-box;\n\n  * {\n    box-sizing: border-box;\n  }\n\n  tr {\n    position: relative;\n    border-bottom: 1px solid ").concat(props.theme.tableDivider, ";\n  }\n\n  th {\n    background: transparent;\n  }\n\n  td,\n  th {\n    position: relative;\n    vertical-align: top;\n    border: 1px solid ").concat(props.theme.tableDivider, ";\n    position: relative;\n    padding: 4px 8px;\n    text-align: ").concat(props.rtl ? "right" : "left", ";\n    min-width: 100px;\n  }\n\n  td .component-embed {\n    padding: 4px 0;\n  }\n\n  .selectedCell {\n    background: ").concat(props.readOnly ? "inherit" : props.theme.tableSelectedBackground, ";\n\n    /* fixes Firefox background color painting over border:\n     * https://bugzilla.mozilla.org/show_bug.cgi?id=688556 */\n    background-clip: padding-box;\n  }\n\n  .grip-column {\n    /* usage of ::after for all of the table grips works around a bug in\n     * prosemirror-tables that causes Safari to hang when selecting a cell\n     * in an empty table:\n     * https://github.com/ProseMirror/prosemirror/issues/947 */\n    &::after {\n      content: \"\";\n      cursor: var(--pointer);\n      position: absolute;\n      top: -16px;\n      ").concat(props.rtl ? "right" : "left", ": 0;\n      width: 100%;\n      height: 12px;\n      background: ").concat(props.theme.tableDivider, ";\n      border-bottom: 3px solid ").concat(props.theme.background, ";\n      display: ").concat(props.readOnly ? "none" : "block", ";\n    }\n\n    &:hover::after {\n      background: ").concat(props.theme.text, ";\n    }\n    &.first::after {\n      border-top-").concat(props.rtl ? "right" : "left", "-radius: 3px;\n    }\n    &.last::after {\n      border-top-").concat(props.rtl ? "left" : "right", "-radius: 3px;\n    }\n    &.selected::after {\n      background: ").concat(props.theme.tableSelected, ";\n    }\n  }\n\n  .grip-row {\n    &::after {\n      content: \"\";\n      cursor: var(--pointer);\n      position: absolute;\n      ").concat(props.rtl ? "right" : "left", ": -16px;\n      top: 0;\n      height: 100%;\n      width: 12px;\n      background: ").concat(props.theme.tableDivider, ";\n      border-").concat(props.rtl ? "left" : "right", ": 3px solid;\n      border-color: ").concat(props.theme.background, ";\n      display: ").concat(props.readOnly ? "none" : "block", ";\n    }\n\n    &:hover::after {\n      background: ").concat(props.theme.text, ";\n    }\n    &.first::after {\n      border-top-").concat(props.rtl ? "right" : "left", "-radius: 3px;\n    }\n    &.last::after {\n      border-bottom-").concat(props.rtl ? "right" : "left", "-radius: 3px;\n    }\n    &.selected::after {\n      background: ").concat(props.theme.tableSelected, ";\n    }\n  }\n\n  .grip-table {\n    &::after {\n      content: \"\";\n      cursor: var(--pointer);\n      background: ").concat(props.theme.tableDivider, ";\n      width: 13px;\n      height: 13px;\n      border-radius: 13px;\n      border: 2px solid ").concat(props.theme.background, ";\n      position: absolute;\n      top: -18px;\n      ").concat(props.rtl ? "right" : "left", ": -18px;\n      display: ").concat(props.readOnly ? "none" : "block", ";\n    }\n\n    &:hover::after {\n      background: ").concat(props.theme.text, ";\n    }\n    &.selected::after {\n      background: ").concat(props.theme.tableSelected, ";\n    }\n  }\n}\n\n.scrollable-wrapper {\n  position: relative;\n  margin: 0.5em 0px;\n  scrollbar-width: thin;\n  scrollbar-color: transparent transparent;\n\n  &:hover {\n    scrollbar-color: ").concat(props.theme.scrollbarThumb, " ").concat(props.theme.scrollbarBackground, ";\n  }\n\n  & ::-webkit-scrollbar {\n    height: 14px;\n    background-color: transparent;\n  }\n\n  &:hover ::-webkit-scrollbar {\n    background-color: ").concat(props.theme.scrollbarBackground, ";\n  }\n\n  & ::-webkit-scrollbar-thumb {\n    background-color: transparent;\n    border: 3px solid transparent;\n    border-radius: 7px;\n  }\n\n  &:hover ::-webkit-scrollbar-thumb {\n    background-color: ").concat(props.theme.scrollbarThumb, ";\n    border-color: ").concat(props.theme.scrollbarBackground, ";\n  }\n}\n\n.scrollable {\n  overflow-y: hidden;\n  overflow-x: auto;\n  padding-").concat(props.rtl ? "right" : "left", ": 1em;\n  margin-").concat(props.rtl ? "right" : "left", ": -1em;\n  border-").concat(props.rtl ? "right" : "left", ": 1px solid transparent;\n  border-").concat(props.rtl ? "left" : "right", ": 1px solid transparent;\n  transition: border 250ms ease-in-out 0s;\n}\n\n.scrollable-shadow {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  ").concat(props.rtl ? "right" : "left", ": -1em;\n  width: 16px;\n  transition: box-shadow 250ms ease-in-out;\n  border: 0px solid transparent;\n  border-").concat(props.rtl ? "right" : "left", "-width: 1em;\n  pointer-events: none;\n\n  &.left {\n    box-shadow: 16px 0 16px -16px inset rgba(0, 0, 0, 0.25);\n    border-left: 1em solid ").concat(props.theme.background, ";\n  }\n\n  &.right {\n    right: 0;\n    left: auto;\n    box-shadow: -16px 0 16px -16px inset rgba(0, 0, 0, 0.25);\n  }\n}\n\n.block-menu-trigger {\n  opacity: 0;\n  pointer-events: none;\n  display: ").concat(props.readOnly ? "none" : "inline", ";\n  width: 24px;\n  height: 24px;\n  color: ").concat(props.theme.textSecondary, ";\n  background: none;\n  position: absolute;\n  transition: color 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),\n    opacity 150ms ease-in-out;\n  outline: none;\n  border: 0;\n  padding: 0;\n  margin-top: 1px;\n  margin-").concat(props.rtl ? "right" : "left", ": -28px;\n  border-radius: 4px;\n\n  &:hover,\n  &:focus {\n    cursor: var(--pointer);\n    color: ").concat(props.theme.text, ";\n    background: ").concat(props.theme.secondaryBackground, ";\n  }\n}\n\n.ProseMirror[contenteditable=\"true\"]:focus-within,\n.ProseMirror-focused .block-menu-trigger,\n.block-menu-trigger:active,\n.block-menu-trigger:focus {\n  opacity: 1;\n  pointer-events: initial;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid ").concat(props.theme.cursor, ";\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n.folded-content,\n.folded-content + .mermaid-diagram-wrapper {\n  display: none;\n  user-select: none;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\ndel {\n  color: ").concat(props.theme.slate, ";\n  text-decoration: strikethrough;\n}\n\nins[data-operation-index] {\n  color: ").concat(props.theme.textDiffInserted, ";\n  background-color: ").concat(props.theme.textDiffInsertedBackground, ";\n  text-decoration: none;\n}\n\ndel[data-operation-index] {\n  color: ").concat(props.theme.textDiffDeleted, ";\n  background-color: ").concat(props.theme.textDiffDeletedBackground, ";\n  text-decoration: none;\n\n  img {\n    opacity: .5;\n  }\n}\n\n@media print {\n  .placeholder:before,\n  .block-menu-trigger,\n  .heading-actions,\n  button.show-source-button,\n  h1:not(.placeholder):before,\n  h2:not(.placeholder):before,\n  h3:not(.placeholder):before,\n  h4:not(.placeholder):before,\n  h5:not(.placeholder):before,\n  h6:not(.placeholder):before {\n    display: none;\n  }\n\n  .image {\n    page-break-inside: avoid;\n  }\n\n  .comment-marker {\n    border: 0;\n    background: none;\n  }\n\n  .page-break {\n    opacity: 0;\n  }\n\n  pre {\n    overflow-x: hidden;\n    white-space: pre-wrap;\n  }\n\n  em,\n  blockquote {\n    font-family: \"SF Pro Text\", ").concat(props.theme.fontFamily, ";\n  }\n}\n");
};
const EditorContainer = _styledComponents.default.div(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral(["\n  ", "\n  ", "\n  ", "\n  ", "\n  ", "\n  ", "\n"])), style, mathStyle, codeMarkCursor, codeBlockStyle, findAndReplaceStyle, emailStyle);
var _default = exports.default = EditorContainer;